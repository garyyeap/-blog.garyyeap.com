<!DOCTYPE html>
<html lang='zh' dir='auto'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='@babel/plugin-transform-runtime 主要是要解決 Polyfill、Helper 和 Regenerator 編譯產生的一些問題，下面會逐一介紹和講解其解決的方法。
Polyfill 有在寫網頁前端的人對這名詞應該都不陌生，如果你丟這個詞去查字典的話，它的解釋是某種填充材料，在 Polyfill 這個名詞出現以前有另一個名詞叫 Shim， 同樣如果去查字典的解釋是墊片，兩者之間有什麼不同呢？舉個例子，假如一面牆上破了一個洞，你用一塊板子釘上去蓋住它那就是 Shim，如果你用補土把它補好補滿那就是 Polyfill，差異在於前者你可以很明顯知道有個不一樣的外來物，後者你不會有感覺。換成程式碼的話，如果要解決不同瀏覽器處理 fullscreen api 差異的問題:
Shim 形式(Source)：
import Fullscreen from &#39;easy-fullscreen&#39;; if (Fullscreen.isEnabled) { fullscreenButton.onclick = function () { // check if is in fullscreen mode  if (Fullscreen.isFullscreen) { // exit fullscreen  Fullscreen.exit(); } else { // request to enter fullscreen  Fullscreen.request(fullscreenElement); } }; } Polyfill 形式：
import &#39;core-js&#39;; if (document.documentElement.requestFullscreen) { fullscreenButton.onclick = function () { if (document.'>
<meta name='theme-color' content='#444444'>

<meta property='og:title' content='寫扣: 詳解 @babel/plugin-transform-runtime • Indecision'>
<meta property='og:description' content='@babel/plugin-transform-runtime 主要是要解決 Polyfill、Helper 和 Regenerator 編譯產生的一些問題，下面會逐一介紹和講解其解決的方法。
Polyfill 有在寫網頁前端的人對這名詞應該都不陌生，如果你丟這個詞去查字典的話，它的解釋是某種填充材料，在 Polyfill 這個名詞出現以前有另一個名詞叫 Shim， 同樣如果去查字典的解釋是墊片，兩者之間有什麼不同呢？舉個例子，假如一面牆上破了一個洞，你用一塊板子釘上去蓋住它那就是 Shim，如果你用補土把它補好補滿那就是 Polyfill，差異在於前者你可以很明顯知道有個不一樣的外來物，後者你不會有感覺。換成程式碼的話，如果要解決不同瀏覽器處理 fullscreen api 差異的問題:
Shim 形式(Source)：
import Fullscreen from &#39;easy-fullscreen&#39;; if (Fullscreen.isEnabled) { fullscreenButton.onclick = function () { // check if is in fullscreen mode  if (Fullscreen.isFullscreen) { // exit fullscreen  Fullscreen.exit(); } else { // request to enter fullscreen  Fullscreen.request(fullscreenElement); } }; } Polyfill 形式：
import &#39;core-js&#39;; if (document.documentElement.requestFullscreen) { fullscreenButton.onclick = function () { if (document.'>
<meta property='og:url' content='https://blog.garyyeap.rocks/code/babel-transfrom-runtime-expained/'>
<meta property='og:site_name' content='Indecision'>
<meta property='og:type' content='article'><meta property='article:section' content='code'><meta property='article:tag' content='javascript'><meta property='article:tag' content='babel'><meta property='article:tag' content='polyfill'><meta property='article:tag' content='es6'><meta property='article:tag' content='plugin-transform-runtime'><meta property='article:published_time' content='2021-04-29T00:00:00Z'/><meta property='article:modified_time' content='2021-04-29T00:00:00Z'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.82.1" />

  <title>寫扣: 詳解 @babel/plugin-transform-runtime • Indecision</title>
  <link rel='canonical' href='https://blog.garyyeap.rocks/code/babel-transfrom-runtime-expained/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.b6d96371.css'><style>
:root{--color-accent:#444444;}
</style>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-179143362-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  

</head>
<body class='page type-code has-sidebar'>

  <div class='site'><div id='sidebar' class='sidebar'>
  <a class='screen-reader-text' href='#main-menu'>跳到主頁</a>

  <div class='container'><section class='widget widget-about sep-after'>
  <header>
    
    <div class='logo'>
      <a href='/'>
        <img src='/images/logo.png'>
      </a>
    </div>
    
    <h2 class='title site-title '>
      <a href='/'>
      Indecision
      </a>
    </h2>
    <div class='desc'>
    Personal blog by Gary Yeap.
    </div>
  </header>

</section>
<section class='widget widget-search sep-after'>
  <header>
    <h4 class='title widget-title'>Search</h4>
  </header>

  <form action='/zh/search' id='search-form' class='search-form'>
    <label>
      <span class='screen-reader-text'>搜尋</span>
      <input id='search-term' class='search-term' type='search' name='q' placeholder='搜尋&hellip;'>
    </label></form>

</section>
<section class='widget widget-sidebar_menu sep-after'><nav id='sidebar-menu' class='menu sidebar-menu' aria-label='側邊菜單'>
    <div class='container'>
      <ul><li class='item'>
  <a href='/code/'>寫扣</a></li><li class='item'>
  <a href='/wander/'>流浪</a></li><li class='item'>
  <a href='/read/'>讀書</a></li></ul>
    </div>
  </nav>

</section><section class='widget widget-taxonomy_cloud sep-after'>
  <header>
    <h4 class='title widget-title'>標籤</h4>
  </header>

  <div class='container list-container'>
  <ul class='list taxonomy-cloud'><li>
        <a href='/tags/babel/' style='font-size:1em'>babel</a>
      </li><li>
        <a href='/tags/covid-19/' style='font-size:1em'>covid-19</a>
      </li><li>
        <a href='/tags/es6/' style='font-size:1em'>es6</a>
      </li><li>
        <a href='/tags/javascript/' style='font-size:2em'>javascript</a>
      </li><li>
        <a href='/tags/node/' style='font-size:1em'>node</a>
      </li><li>
        <a href='/tags/npm/' style='font-size:1em'>npm</a>
      </li><li>
        <a href='/tags/plugin-transform-runtime/' style='font-size:1em'>plugin-transform-runtime</a>
      </li><li>
        <a href='/tags/polyfill/' style='font-size:1em'>polyfill</a>
      </li><li>
        <a href='/tags/%E5%87%BA%E7%A7%9F%E5%A4%A7%E5%8F%94/' style='font-size:1em'>出租大叔</a>
      </li><li>
        <a href='/tags/%E5%8F%8D%E7%83%8F%E6%89%98%E9%82%A6/' style='font-size:1em'>反烏托邦</a>
      </li><li>
        <a href='/tags/%E5%9C%B0%E7%90%83%E7%A7%91%E5%AD%B8/' style='font-size:1em'>地球科學</a>
      </li><li>
        <a href='/tags/%E5%9C%B0%E8%B3%AA%E5%AD%B8/' style='font-size:1em'>地質學</a>
      </li><li>
        <a href='/tags/%E5%B0%91%E5%AD%90%E5%8C%96/' style='font-size:1em'>少子化</a>
      </li><li>
        <a href='/tags/%E6%AD%B7%E5%8F%B2/' style='font-size:1em'>歷史</a>
      </li><li>
        <a href='/tags/%E6%B0%A3%E5%80%99%E8%AE%8A%E9%81%B7/' style='font-size:1em'>氣候變遷</a>
      </li><li>
        <a href='/tags/%E7%96%AB%E6%83%85/' style='font-size:1em'>疫情</a>
      </li><li>
        <a href='/tags/%E7%A5%9E%E8%A9%B1/' style='font-size:1em'>神話</a>
      </li><li>
        <a href='/tags/%E7%A7%91%E5%B9%BB/' style='font-size:2em'>科幻</a>
      </li><li>
        <a href='/tags/%E7%A7%91%E6%99%AE/' style='font-size:1em'>科普</a>
      </li></ul>
</div>


</section>
</div>

  <div class='sidebar-overlay'></div>
</div><div class='main'><nav id='main-menu' class='menu main-menu' aria-label='主菜單'>
  <div class='container'>
    <a class='screen-reader-text' href='#content'>跳到文章</a>

<button id='sidebar-toggler' class='sidebar-toggler' aria-controls='sidebar'>
  <span class='screen-reader-text'>切換側邊欄</span>
  <span class='open'><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
  <line x1="3" y1="12" x2="21" y2="12" />
  <line x1="3" y1="6" x2="21" y2="6" />
  <line x1="3" y1="18" x2="21" y2="18" />

</svg>
</span>
  <span class='close'><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
  <line x1="18" y1="6" x2="6" y2="18" />
  <line x1="6" y1="6" x2="18" y2="18" />

</svg>
</span>
</button>
    <ul><li class='item'>
        <a href='https://github.com/garyyeap/blog'>Repo</a>
      </li>
    </ul>
  </div>
</nav><div class='header-widgets'>
        <div class='container'>
    
    <style>.widget-breadcrumbs li:after{content:'\2f '}</style>
  <section class='widget widget-breadcrumbs sep-after'>
    <nav id='breadcrumbs'>
      <ol><li><a href='/'>主頁</a></li><li><a href='/code/'>寫扣</a></li><li><span>詳解 @babel/plugin-transform-runtime</span></li></ol>
    </nav>
  </section></div>
      </div>

      <main id='content'>


<article lang='zh' class='entry'>
  

<header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>寫扣: 詳解 @babel/plugin-transform-runtime</h1>
      

    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>

</svg>
<span class='screen-reader-text'>發布 </span>
  <time class='entry-date' datetime='2021-04-29T00:00:00Z'>2021, Apr 29</time>
</span>

  
  
<span class='reading-time'><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>

</svg>
需要4分鐘讀完
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  <p><code>@babel/plugin-transform-runtime</code> 主要是要解決 Polyfill、Helper 和 Regenerator 編譯產生的一些問題，下面會逐一介紹和講解其解決的方法。</p>
<h2 id="polyfill">Polyfill</h2>
<p>有在寫網頁前端的人對這名詞應該都不陌生，如果你丟這個詞去查字典的話，它的解釋是某種填充材料，在 Polyfill 這個名詞出現以前有另一個名詞叫 Shim， 同樣如果去查字典的解釋是墊片，兩者之間有什麼不同呢？舉個例子，假如一面牆上破了一個洞，你用一塊板子釘上去蓋住它那就是 Shim，如果你用補土把它補好補滿那就是 Polyfill，差異在於前者你可以很明顯知道有個不一樣的外來物，後者你不會有感覺。換成程式碼的話，如果要解決不同瀏覽器處理 fullscreen api 差異的問題:</p>
<p>Shim 形式(<a href="https://www.npmjs.com/package/easy-fullscreen">Source</a>)：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Fullscreen</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;easy-fullscreen&#39;</span>;

<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">Fullscreen</span>.<span style="color:#a6e22e">isEnabled</span>) {
  <span style="color:#a6e22e">fullscreenButton</span>.<span style="color:#a6e22e">onclick</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#75715e">// check if is in fullscreen mode
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">Fullscreen</span>.<span style="color:#a6e22e">isFullscreen</span>) {
      <span style="color:#75715e">// exit fullscreen
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">Fullscreen</span>.<span style="color:#a6e22e">exit</span>();
    } <span style="color:#66d9ef">else</span> {
      <span style="color:#75715e">// request to enter fullscreen
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">Fullscreen</span>.<span style="color:#a6e22e">request</span>(<span style="color:#a6e22e">fullscreenElement</span>);
    }
  };
}
</code></pre></div><p>Polyfill 形式：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;core-js&#39;</span>;

<span style="color:#66d9ef">if</span> (document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">requestFullscreen</span>) {
  <span style="color:#a6e22e">fullscreenButton</span>.<span style="color:#a6e22e">onclick</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#66d9ef">if</span> (document.<span style="color:#a6e22e">fullscreenElement</span>) {
      document.<span style="color:#a6e22e">exitFullscreen</span>();
    } <span style="color:#66d9ef">else</span> {
      document.<span style="color:#a6e22e">documentElement</span>.<span style="color:#a6e22e">requestFullscreen</span>();
    }
  };
}
</code></pre></div><p>兩者都可以達成 fullscreen 的功能，但後者用的是標準 API，前者則不是。</p>
<h4 id="polyfill-傳統全域">Polyfill 傳統全域</h4>
<p>這個其實就是 Babel 預設的模式:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">//import &#39;@babel/polyfill&#39;; //淘汰中
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;core-js&#39;</span>;

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">sym</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Symbol</span>();
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">promise</span> <span style="color:#f92672">=</span> Promise.<span style="color:#a6e22e">resolve</span>();
</code></pre></div><p>原理相當簡單，就是在檔案的一開頭手動把所有 Polyfill 全部載進來，因爲是全局的，基本上只要其中一個檔案有載入就好了，慣例做法就是在 entry 檔案裡 import。上述範例的做法問題就是會載入一堆專案/檔案根本沒用到的 Polyfill，於是 core-js 就提供了較進階的用法</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;core-js/es/symbol&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;core-js/es/promise&#39;</span>;

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">sym</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Symbol</span>();
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">promise</span> <span style="color:#f92672">=</span> Promise.<span style="color:#a6e22e">resolve</span>();
</code></pre></div><p>但管理這些載入很煩，例如之後沒有要用到 Promise 了，其實拿掉會比較省空間，但改程式時常常就會忘記，甚至忘了 import，造成在本機測沒問題，上線後在較舊的瀏覽器爆炸的問題，於是就有了搭配 <code>@babel/preset-env</code> 的方式，其中有個 <code>useBuiltIns</code> 的設定，設成 <code>entry</code> 的話，Babel 就會根據你設定想要支援的瀏覽器載入該瀏覽器環境缺失的 Polyfill，把</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#34;core-js&#34;</span>;
</code></pre></div><p>轉成(取決於瀏覽器環境設定)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#34;core-js/modules/es.string.pad-start&#34;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#34;core-js/modules/es.string.pad-end&#34;</span>;
</code></pre></div><p>設成 <code>usage</code> 的話就只會載入該檔案會用到的</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Promise();
</code></pre></div><p>轉成</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;core-js/es/promise&#39;</span>;

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">promise</span> <span style="color:#f92672">=</span> Promise.<span style="color:#a6e22e">resolve</span>();
</code></pre></div><p>但如果設定的瀏覽器環境本來就支援 Promise 的話，則不會載入，所以什麼都不會做</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Promise();
</code></pre></div><p>傳統全局的好處是在打包工具的支援下，基本上一個專案所有的 Polyfill 都只會有一份，壞處則是如果是用在套件的話會污染全局，假設用套件的專案本身也有在用 Polyfill 的話，就會造成重複載入，想像一下一個專案本身用了這種模式，同時用的 N 個套件也都是這種模式，那麼 Polyfill 最糟的情況下就會被載入 N+1 次，而且最後一個被載入會覆蓋掉前面的，假設 Polyfill 實作方式又有所不同的話(因爲是全局，不一定要用 core-js)就會造成難以預期的問題。</p>
<p>參考：</p>
<ol>
<li><a href="https://babeljs.io/docs/en/babel-preset-env#usebuiltins">https://babeljs.io/docs/en/babel-preset-env#usebuiltins</a></li>
<li><a href="https://babeljs.io/docs/en/babel-polyfill">https://babeljs.io/docs/en/babel-polyfill</a></li>
</ol>
<h4 id="polyfill-es6-局域">Polyfill ES6 局域</h4>
<p>因爲前面全域模式的問題，所以 Babel 提供了另一種模式，需要<code>@babel/plugin-transform-runtime</code>搭配<code>@babel/runtime</code>來一起用</p>
<p>Babel 設定：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">{
  <span style="color:#e6db74">&#34;plugins&#34;</span><span style="color:#f92672">:</span> [
    [
      <span style="color:#e6db74">&#34;@babel/plugin-transform-runtime&#34;</span>,
      {
        <span style="color:#e6db74">&#34;corejs&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
      }
    ]
  ]
}
</code></pre></div><p>其運作原理就是利用 ES6 的模組特性把 Polyfill 變成局域的變數</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">sym</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Symbol</span>();

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">promise</span> <span style="color:#f92672">=</span> Promise.<span style="color:#a6e22e">resolve</span>();

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">check</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#34;yeah!&#34;</span>);

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">Symbol</span>.<span style="color:#a6e22e">iterator</span>]());
</code></pre></div><p>會轉成</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">_getIterator</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@babel/runtime-corejs3/core-js/get-iterator&#34;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">_includesInstanceProperty</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@babel/runtime-corejs3/core-js-stable/instance/includes&#34;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">_Promise</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@babel/runtime-corejs3/core-js-stable/promise&#34;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">_Symbol</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@babel/runtime-corejs3/core-js-stable/symbol&#34;</span>;

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">sym</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_Symbol</span>();

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">promise</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_Promise</span>.<span style="color:#a6e22e">resolve</span>();

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">check</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_includesInstanceProperty</span>(<span style="color:#a6e22e">arr</span>).<span style="color:#a6e22e">call</span>(<span style="color:#a6e22e">arr</span>, <span style="color:#e6db74">&#34;yeah!&#34;</span>);

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">_getIterator</span>(<span style="color:#a6e22e">arr</span>));
</code></pre></div><p>這樣做的好處是不會污染全域，但比較無法解決程式碼重複的問題，除非專案用的所有套件都用同一個 runtime-corejs 版本。</p>
<p>參考：</p>
<ol>
<li><a href="https://babeljs.io/docs/en/babel-runtime">https://babeljs.io/docs/en/babel-runtime</a></li>
<li><a href="https://babeljs.io/docs/en/babel-plugin-transform-runtime">https://babeljs.io/docs/en/babel-plugin-transform-runtime</a></li>
</ol>
<h2 id="helper">Helper</h2>
<p>Helper 基本上就是 Babel 爲了要達成 ES6 的一些語法支援而產生的一些程式，例如 async function</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">abc</span>() {}
</code></pre></div><p>會轉成</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#e6db74">&#34;use strict&#34;</span>;

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">asyncGeneratorStep</span>(<span style="color:#a6e22e">gen</span>, <span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>, <span style="color:#a6e22e">_next</span>, <span style="color:#a6e22e">_throw</span>, <span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">arg</span>) { <span style="color:#66d9ef">try</span> { <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">info</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gen</span>[<span style="color:#a6e22e">key</span>](<span style="color:#a6e22e">arg</span>); <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">value</span>; } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) { <span style="color:#a6e22e">reject</span>(<span style="color:#a6e22e">error</span>); <span style="color:#66d9ef">return</span>; } <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">done</span>) { <span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">value</span>); } <span style="color:#66d9ef">else</span> { Promise.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">value</span>).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">_next</span>, <span style="color:#a6e22e">_throw</span>); } }

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_asyncToGenerator</span>(<span style="color:#a6e22e">fn</span>) { <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> () { <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">self</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arguments</span>; <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Promise(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) { <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">gen</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fn</span>.<span style="color:#a6e22e">apply</span>(<span style="color:#a6e22e">self</span>, <span style="color:#a6e22e">args</span>); <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_next</span>(<span style="color:#a6e22e">value</span>) { <span style="color:#a6e22e">asyncGeneratorStep</span>(<span style="color:#a6e22e">gen</span>, <span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>, <span style="color:#a6e22e">_next</span>, <span style="color:#a6e22e">_throw</span>, <span style="color:#e6db74">&#34;next&#34;</span>, <span style="color:#a6e22e">value</span>); } <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_throw</span>(<span style="color:#a6e22e">err</span>) { <span style="color:#a6e22e">asyncGeneratorStep</span>(<span style="color:#a6e22e">gen</span>, <span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>, <span style="color:#a6e22e">_next</span>, <span style="color:#a6e22e">_throw</span>, <span style="color:#e6db74">&#34;throw&#34;</span>, <span style="color:#a6e22e">err</span>); } <span style="color:#a6e22e">_next</span>(<span style="color:#66d9ef">undefined</span>); }); }; }

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">abc</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_abc</span>.<span style="color:#a6e22e">apply</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">arguments</span>);
}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_abc</span>() {
  <span style="color:#a6e22e">_abc</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_asyncToGenerator</span>( <span style="color:#75715e">/*#__PURE__*/</span><span style="color:#a6e22e">regeneratorRuntime</span>.<span style="color:#a6e22e">mark</span>(<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_callee</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">regeneratorRuntime</span>.<span style="color:#a6e22e">wrap</span>(<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_callee$</span>(<span style="color:#a6e22e">_context</span>) {
      <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">prev</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">next</span>) {
          <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
          <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span>
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">stop</span>();
        }
      }
    }, <span style="color:#a6e22e">_callee</span>);
  }));
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_abc</span>.<span style="color:#a6e22e">apply</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">arguments</span>);
}
</code></pre></div><p>其中 <code>_asyncToGenerator</code> 就是 helper，它負責把 abc 這個 function 改成有像 async 一樣的特性/行爲，但這樣的問題是 <code>_asyncToGenerator</code> 這個函數在每個用到它的模組都會有一份重複的。這時候 <code>babel-plugin-transform-runtime</code> 又要來支援了，在加入後(參考上面Polyfill部分設定)，<code>transform-runtime</code> 會把上述程式碼轉換成引入的方式就可以有效減少重複的程式碼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#e6db74">&#34;use strict&#34;</span>;

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_interopRequireDefault</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;@babel/runtime/helpers/interopRequireDefault&#34;</span>);

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_regenerator</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_interopRequireDefault</span>(<span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;@babel/runtime/regenerator&#34;</span>));

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_asyncToGenerator2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_interopRequireDefault</span>(<span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;@babel/runtime/helpers/asyncToGenerator&#34;</span>));

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">abc</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_abc</span>.<span style="color:#a6e22e">apply</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">arguments</span>);
}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_abc</span>() {
  <span style="color:#a6e22e">_abc</span> <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">_asyncToGenerator2</span>.<span style="color:#66d9ef">default</span>)( <span style="color:#75715e">/*#__PURE__*/</span><span style="color:#a6e22e">_regenerator</span>.<span style="color:#66d9ef">default</span>.<span style="color:#a6e22e">mark</span>(<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_callee</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_regenerator</span>.<span style="color:#66d9ef">default</span>.<span style="color:#a6e22e">wrap</span>(<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_callee$</span>(<span style="color:#a6e22e">_context</span>) {
      <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">prev</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">next</span>) {
          <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
          <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span>
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">stop</span>();
        }
      }
    }, <span style="color:#a6e22e">_callee</span>);
  }));
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_abc</span>.<span style="color:#a6e22e">apply</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">arguments</span>);
}
</code></pre></div><p>參考：<a href="https://babeljs.io/docs/en/babel-plugin-transform-runtime">https://babeljs.io/docs/en/babel-plugin-transform-runtime</a></p>
<h2 id="regenerator">Regenerator</h2>
<p>這個不想介紹了，請直接參考 MDN。Regenerator 要處理的問題是污染全域的問題</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span><span style="color:#f92672">*</span> <span style="color:#a6e22e">foo</span>() {}
</code></pre></div><p>會產生</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#e6db74">&#34;use strict&#34;</span>;

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_marked</span> <span style="color:#f92672">=</span> [<span style="color:#a6e22e">foo</span>].<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">regeneratorRuntime</span>.<span style="color:#a6e22e">mark</span>);

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">regeneratorRuntime</span>.<span style="color:#a6e22e">wrap</span>(
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo$</span>(<span style="color:#a6e22e">_context</span>) {
      <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">switch</span> ((<span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">prev</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">next</span>)) {
          <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
          <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span>
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">stop</span>();
        }
      }
    },
    <span style="color:#a6e22e">_marked</span>[<span style="color:#ae81ff">0</span>],
    <span style="color:#66d9ef">this</span>
  );
}
</code></pre></div><p>但因爲 <code>regeneratorRuntime</code> 是全域變數，所以會被污染，用了 <code>tranfrom-runtime</code> 後會變成不會污染全域變數的方式</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#e6db74">&#34;use strict&#34;</span>;

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_regenerator</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;@babel/runtime/regenerator&#34;</span>);

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_regenerator2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_interopRequireDefault</span>(<span style="color:#a6e22e">_regenerator</span>);

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_interopRequireDefault</span>(<span style="color:#a6e22e">obj</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">__esModule</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">:</span> { <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">obj</span> };
}

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_marked</span> <span style="color:#f92672">=</span> [<span style="color:#a6e22e">foo</span>].<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">_regenerator2</span>.<span style="color:#66d9ef">default</span>.<span style="color:#a6e22e">mark</span>);

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_regenerator2</span>.<span style="color:#66d9ef">default</span>.<span style="color:#a6e22e">wrap</span>(
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo$</span>(<span style="color:#a6e22e">_context</span>) {
      <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
        <span style="color:#66d9ef">switch</span> ((<span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">prev</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">next</span>)) {
          <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
          <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;end&#34;</span><span style="color:#f92672">:</span>
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_context</span>.<span style="color:#a6e22e">stop</span>();
        }
      }
    },
    <span style="color:#a6e22e">_marked</span>[<span style="color:#ae81ff">0</span>],
    <span style="color:#66d9ef">this</span>
  );
}
</code></pre></div><p>參考： <a href="https://babeljs.io/docs/en/babel-plugin-transform-runtime">https://babeljs.io/docs/en/babel-plugin-transform-runtime</a></p>
<h2 id="總結">總結</h2>
<p>看到這裡可能有個疑問就是，到底那種方式比較好，基本上所有的方式都有其應用的場景，不然 babel 也不會生出那麼多種選項，畢竟沒有必要的話，大家都會比較傾向複雜度越低越好。關於使用情景，Rollp 官方的 babel-plugin 對 babalHelpers 的設定就有說明：</p>
<blockquote>
<ul>
<li>&lsquo;runtime&rsquo; - you should use this especially when building libraries with Rollup. It has to be used in combination with @babel/plugin-transform-runtime and you should also specify @babel/runtime as dependency of your package. Don&rsquo;t forget to tell Rollup to treat the helpers imported from within the @babel/runtime module as external dependencies when bundling for cjs &amp; es formats. This can be accomplished via regex (external: [/@babel/runtime/]) or a function (external: id =&gt; id.includes('@babel/runtime')). It&rsquo;s important to not only specify external: ['@babel/runtime'] since the helpers are imported from nested paths (e.g @babel/runtime/helpers/get) and Rollup will only exclude modules that match strings exactly.</li>
<li>&lsquo;bundled&rsquo; - you should use this if you want your resulting bundle to contain those helpers (at most one copy of each). Useful especially if you bundle an application code.</li>
<li>&lsquo;external&rsquo; - use this only if you know what you are doing. It will reference helpers on global babelHelpers object. Used in combination with @babel/plugin-external-helpers.</li>
<li>&lsquo;inline&rsquo; - this is not recommended. Helpers will be inserted in each file using this option. This can cause serious code duplication. This is the default Babel behavior as Babel operates on isolated files - however, as Rollup is a bundler and is project-aware (and therefore likely operating across multiple input files), the default of this plugin is &ldquo;bundled&rdquo;.</li>
</ul>
</blockquote>
<p>簡單來說如果是開發套件的話，比較建議用 <code>transform-runtime</code> 方式，如果是開發應用的話，建議用 Rollup 自己提供的 <code>bundled</code> 方式，基本上就是把所有 helpers 用成一份，我自己猜測理論上會在應用層加一個 scope 來保證只會套用/影響到應用層。以上就簡單說明，只是現實世界的具體情況會更複雜，之後會再寫一篇開發/載入模組時要注意跟可以優化的事項。</p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='categories'><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
    <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>

</svg>
<span class='screen-reader-text'>分類: </span><a class='category' href='/categories/%E5%AF%AB%E6%89%A3/'>寫扣</a></div>
<div class='tags'><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>

</svg>
<span class='screen-reader-text'>標籤: </span><a class='tag' href='/tags/javascript/'>javascript</a>, <a class='tag' href='/tags/babel/'>babel</a>, <a class='tag' href='/tags/polyfill/'>polyfill</a>, <a class='tag' href='/tags/es6/'>es6</a>, <a class='tag' href='/tags/plugin-transform-runtime/'>plugin-transform-runtime</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='next-entry sep-before'>
      <a href='/code/npm-development-test/'>
        <span class='screen-reader-text'>下一篇文章: </span>NPM 開發測試筆記<span aria-hidden='true'>下一個 <svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>

</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='社交'>
    <ul><li>
        <a href='https://github.com/garyyeap' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>在新標籤打開Github的賬戶</span><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
      <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>

</svg>
</a>
      </li><li>
        <a href='https://twitter.com/curryyeap' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>在新標籤打開Twitter的賬戶</span><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    
  <title>Twitter icon</title>
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>

</svg>
</a>
      </li><li>
        <a href='mailto:contact@garyyeap.com' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Email</span><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>
</svg>
</a>
      </li><li>
        <a href='https://linkedin.com/in/garyyeap' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>在新標籤打開Linkedin的賬戶</span><svg class='icon' xmlns='http://www.w3.org/2000/svg' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg>
</a>
      </li></ul>
  </nav>
</section><div class='copyright'>
  <p> &copy; 2019-2023 Gary Yeap </p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__assets_js_src="/assets/js/"</script>

<script src='/assets/js/main.5f629e73.js'></script>

</body>

</html>

